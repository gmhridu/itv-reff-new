[providers]
# Force nixpacks to use our custom configuration
node = false

[phases.setup]
nixPkgs = ["nodejs_20", "bun"]

[phases.install]
cmd = "bun install --frozen-lockfile"

[phases.build]
cmd = "bun run build"

[start]
cmd = "bun start"

[variables]
NODE_ENV = "production"
NIXPACKS_NO_CACHE = "1"
